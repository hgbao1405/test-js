<style>
  .portlet {
    box-shadow: none !important;
  }
  .breadcrumb > li {
    font-size: 16px;
    font-weight: 700;
    color: black;
    text-decoration: underline;
  }
  .has-error .form-control {
    border-color: #e73d4a !important;
  }

  .tab .nav-tabs li.active > div,
  .tab .nav-tabs > li.active > div:focus {
    border: none;
    color: purple;
    background: white;
    border-top: 1px solid #d3d3d3;
    border-left: 1px solid #d3d3d3;
    border-right: 1px solid #d3d3d3;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    font-weight: 700 !important;
    border-bottom: 6px solid #ff9800 !important;
  }
  .tab .tab-content {
    border: 1px solid #d3d3d3;
    padding: 15px;
  }

  .tab .nav-tabs {
    margin-bottom: 0px;
    border-bottom-width: 0px !important;
  }

  .tab .nav-tabs li {
    border-right: 1px solid #ddd;
  }

  /*.tab .nav-tabs li:last-child {
                border-right: 0px solid #ddd;
            }

            .tab .nav-tabs li:first-child div {
                border-left: 1px solid #ddd;
            }*/

  .tab .nav-tabs li div {
    color: black;
    background: white;
    border-radius: 0;
    margin-right: -1px;
    padding: 5.5px 20px;
    /*border-bottom: 1px solid #d3d3d3;*/
    font-weight: 600;
  }

  .nav-tabs li:first-child div {
    border-radius: 5px 0 0 0px;
  }

  .nav-tabs li:last-child div {
    border-radius: 0 5px 0px 0;
    /*border-right: 1px solid #d3d3d3;*/
  }
  ::-webkit-scrollbar {
    background-color: #f5f5f5;
  }

  ::-webkit-scrollbar-thumb {
    background-color: #eaeaea;
  }

  ::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 1px rgb(0 0 0 / 30%);
    background-color: #f5f5f5;
  }
</style>

<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-base/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-buttons/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-splitbuttons/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-navigations/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-dropdowns/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-inputs/styles/material.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.syncfusion.com/ej2/24.2.3/ej2-popups/styles/material.css"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.38/system.js"></script>
<script
  src="https://cdn.syncfusion.com/ej2/syncfusion-helper.js"
  type="text/javascript"
></script>
<script src="https://cdn.syncfusion.com/ej2/dist/ej2.min.js"></script>

<div class="portlet light bordered">
  <form
    name="editform"
    class="form-horizontal"
    method="post"
    ng-validate="validationOptions"
  >
    <div class="form-body">
      <div class="row">
        <div class="col-lg-4">
          <div class="form-group">
            <div class="col-md-12">
              <div
                class="thumbnail"
                style="border: 0; box-shadow: none; background: none"
              >
                <input
                  id="File"
                  accept=".png,.jpg,.jpeg,.gif,.tif"
                  type="file"
                  style="display: none"
                />
                <img
                  id="imageId"
                  ng-click="loadImage()"
                  class="img-circle"
                  style="height: 200px; width: 200px; cursor: pointer"
                  onerror="this.src='/images/default/no_user.png'"
                  ng-src="{{model.Picture==null ? '/images/default/no_user.png' : model.Picture}}"
                  alt="Hình ảnh"
                />
              </div>
            </div>
            <div
              class="col-md-12 text-center"
              style="font-size: 20px; margin-top: -5px"
            >
              <i class="fa fa-picture-o" aria-hidden="true"></i>
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_AVATAR' | translate}}</label
              >
            </div>
          </div>

          <div class="form-group">
            <div class="col-md-12">
              <div
                class="thumbnail"
                style="border: 0; box-shadow: none; background: none"
              >
                <input
                  id="FileSign"
                  accept=".png,.jpg,.jpeg,.gif,.tif"
                  type="file"
                  style="display: none"
                  ng-model="uploadedImageData"
                />
                <img
                  id="imageIdSign"
                  ng-click="loadImageSign()"
                  style="height: 100px; width: 200px; cursor: pointer"
                  onerror="this.src='/images/default/icon-sign.jpg'"
                  ng-src="{{model.SignImage==null ? '/images/default/icon-sign.jpg' : model.SignImage}}"
                  alt="Hình ảnh"
                />
              </div>
            </div>
            <div
              class="col-md-12 text-center"
              style="font-size: 20px; margin-top: -5px"
            >
              <i class="fa fa-picture-o" aria-hidden="true"></i>
              <label class="control-label"
                >{{'ADM_USER_LBL_SIGN' | translate}}</label
              >
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label require"
                >{{'ADM_USER_CURD_LBL_ACCOUNT_NAME' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <input
                type="text"
                class="form-control br24 bold"
                ng-model="model.UserName"
                name="UserName"
                placeholder="{{'ADM_USER_CURD_TXT_ACCOUNT_NAME' | translate}}..."
                autocomplete="off"
                readonly
              />
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label require"
                >{{'ADM_USER_CURD_LBL_PASSWORD' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <input
                id="password-field"
                type="password"
                ng-model="model.Password"
                class="form-control br24"
                placeholder="{{'ADM_USER_CURD_TXT_PASSWORD' | translate}}..."
                autocomplete="off"
              />
              <span
                toggle="#password-field"
                class="fa fa-fw fa-eye field-icon toggle-password show-password"
              ></span>
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_EMPLOYEE' | translate}}</label
              >
              <div class="input-group br24">
                <ui-select
                  ng-model="model.EmployeeCode"
                  style="width: 100%"
                  on-select="selectEmployeeCode($item)"
                >
                  <ui-select-match
                    placeholder="{{'ADM_USER_CURD_LBL_COMBO_EMPLOYEE' | translate}}..."
                    >{{$select.selected.Name}}</ui-select-match
                  >
                  <ui-select-choices
                    repeat="x.Code as x in listEmployeeCode | filter:$select.search"
                  >
                    {{x.Name}}
                  </ui-select-choices>
                </ui-select>
                <span class="input-group-btn">
                  <button
                    type="button"
                    ng-click="model.EmployeeCode='';selectEmployeeCode(null)"
                    class="btn btn-default no-shadow"
                    style=""
                  >
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label require"
                >{{'ADM_USER_CURD_LBL_NAME' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <input
                type="text"
                class="form-control bold br24"
                ng-model="model.GivenName"
                name="GivenName"
                placeholder="{{'ADM_USER_CURD_TXT_NAME' | translate}}..."
              />
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_USER_USE_APP' | translate}}</label
              >
              <div class="input-group br24">
                <ui-select
                  ng-model="model.TypeStaff"
                  on-select="selectTypeStaff(model.TypeStaff)"
                >
                  <ui-select-match
                    placeholder="{{'ADM_USER_CURD_TXT_USER_USE_APP' | translate}}..."
                    >{{$select.selected.Name}}</ui-select-match
                  >
                  <ui-select-choices
                    repeat="x.Code as x in TypeStaffData | filter:$select.search"
                  >
                    {{x.Name}}
                  </ui-select-choices>
                </ui-select>
                <span class="input-group-btn">
                  <button
                    type="button"
                    ng-click="model.TypeStaff=''"
                    class="btn btn-default no-shadow"
                    style=""
                  >
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </span>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-12" style="margin-top: -4px">
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_EMAIL' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <input
                type="text"
                class="form-control br24"
                ng-model="model.Email"
                name="Email"
                placeholder="{{'ADM_USER_CURD_TXT_EMAIL' | translate}}..."
              />
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-8 pl-0" style="width: 63%">
              <div class="col-md-12">
                <label class="control-label"
                  >{{'ADM_USER_CURD_LBL_ACCOUNT_TYPE' | translate}}</label
                >
              </div>
              <div class="col-md-12">
                <div class="form-check">
                  <label class="form-check-label pl-0">
                    <input
                      type="radio"
                      ng-model="model.UserType"
                      ng-value="1"
                      value="1"
                    />
                    {{'ADM_USER_CURD_RADIO_MANAGER' | translate}}
                  </label>
                  <label class="form-check-label pl-0">
                    <input
                      type="radio"
                      ng-model="model.UserType"
                      ng-value="0"
                      ng-checked="true"
                      value="0"
                    />
                    {{'ADM_USER_CURD_RADIO_NORMAL' | translate}}
                  </label>
                </div>
              </div>
            </div>
            <div class="col-md-4" style="width: 37%">
              <div class="col-md-12 pl-0 pr-0">
                <label class="control-label"
                  >{{'ADM_USER_CURD_LBL_STATUS' | translate}}</label
                >
              </div>
              <div class="col-md-12 pl-0 pr-0">
                <div class="mt-checkbox-list pt5">
                  <label
                    class="mt-checkbox"
                    style="
                      margin-bottom: 0;
                      width: 30px;
                      display: inline;
                      font-size: 13px;
                    "
                  >
                    <input
                      type="checkbox"
                      ng-model="model.Active"
                      ng-checked="model.Active"
                    />
                    {{'ADM_USER_CURD_CHECKBOX_ACTIVE' | translate}}
                    <span></span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="form-group" ng-class="{ 'has-error': errorBranch}">
            <div class="col-md-12">
              <label
                class="control-label"
                ng-class="{'require':(model.TypeStaff === '' || model.TypeStaff === null )||(model.TypeStaff === 10)}"
                >{{'ADM_USER_CURD_LBL_BRANCH' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <div class="input-group col-md-12 br24">
                <ui-select
                  ng-model="model.BranchId"
                  class=""
                  style="width: 100%"
                  ng-required="true"
                  on-select="changleSelect('Branch')"
                  ng-disabled="isAllData != 'True'"
                >
                  <ui-select-match
                    placeholder="{{'ADM_USER_CURD_COMBO_BRANCH' | translate}}..."
                    >{{$select.selected.OrgCode}} -
                    {{$select.selected.OrgName}}</ui-select-match
                  >
                  <ui-select-choices
                    repeat="x.OrgAddonCode as x in liBranch | filter:$select.search"
                  >
                    {{x.OrgCode}} - {{x.OrgName}}
                  </ui-select-choices>
                </ui-select>
                <span class="input-group-btn">
                  <button
                    type="button"
                    ng-click="model.BranchId=''"
                    class="btn btn-default no-shadow"
                    style=""
                  >
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </span>
              </div>
              <span
                ng-show="errorBranch"
                class="label-color validation-message"
              >
                {{'ADM_USER_CURD_MSG_ERR_BRANCH' | translate}}
              </span>
            </div>
          </div>
          <div class="form-group" ng-class="{ 'has-error': errorDepartment}">
            <div class="col-md-12">
              <label
                class="control-label"
                ng-class="{'require':(model.TypeStaff === '' || model.TypeStaff === null )||(model.TypeStaff === 10)}"
                >{{'ADM_USER_CURD_LBL_DEPARTMENT' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <div class="input-group col-md-12 br24">
                <ui-select
                  ng-model="model.DepartmentId"
                  class=""
                  style="width: 100%"
                  ng-required="true"
                  on-select="changleSelect('Department')"
                  ng-disabled="isAllData != 'True'"
                >
                  <ui-select-match
                    placeholder="{{'ADM_USER_CURD_COMBO_DEPARTMENT' | translate}}..."
                    >{{$select.selected.Name}}</ui-select-match
                  >
                  <ui-select-choices
                    repeat="x.Code as x in liDepartment | filter:$select.search"
                  >
                    {{x.Name}}
                  </ui-select-choices>
                </ui-select>
                <span class="input-group-btn">
                  <button
                    type="button"
                    ng-click="model.DepartmentId=''"
                    class="btn btn-default no-shadow"
                    style=""
                  >
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </span>
              </div>
              <span
                ng-show="errorDepartment"
                class="label-color validation-message"
              >
                {{'ADM_USER_CURD_MSG_ERR_DEPARTMENT' | translate}}
              </span>
            </div>
          </div>
          <div class="form-group" ng-class="{ 'has-error': errorRoleId}">
            <div class="col-md-12">
              <label
                class="control-label"
                ng-class="{'require':(model.TypeStaff === '' || model.TypeStaff === null )||(model.TypeStaff === 10)}"
                >{{'ADM_USER_CURD_LBL_ROLE' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <div class="input-group col-md-12 br24">
                <ui-select
                  ng-model="model.RoleId"
                  ng-required="true"
                  on-select="changleSelect('RoleId')"
                  ng-disabled="isAllData != 'True'"
                >
                  <ui-select-match
                    placeholder="{{'ADM_USER_CURD_COMBO_ROLE' | translate}}..."
                    >{{$select.selected.Title}}</ui-select-match
                  >
                  <ui-select-choices
                    repeat="x.Id as x in listRoles | filter:$select.search"
                  >
                    {{x.Title}}
                  </ui-select-choices>
                </ui-select>
                <span class="input-group-btn">
                  <button
                    type="button"
                    ng-click="model.RoleId=''"
                    class="btn btn-default no-shadow"
                    style=""
                  >
                    <span class="glyphicon glyphicon-remove"></span>
                  </button>
                </span>
              </div>
              <span
                ng-show="errorRoleId"
                class="label-color validation-message"
              >
                {{'ADM_USER_CURD_MSG_ERR_ROLE' | translate}}
              </span>
            </div>
          </div>

          <style>
            .group-typeWork {
              padding: 10px;
              border: 1px solid #d4d4d4;
              border-radius: 4px;
              background: #fff;
              height: 97px;
              max-height: 97px;
            }
          </style>
          <div class="form-group">
            <div class="col-md-12">
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_ACCOUNT_TYPE' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <div class="group-typeWork">
                <label
                  ng-repeat="x in entities"
                  ng-class=" $index % 2 == 0 ? 'col-md-6' : 'col-md-5'"
                  class="mt-checkbox mt-checkbox-outline fs12"
                  style="margin: 6px 0 0 10px !important"
                >
                  <input type="checkbox" ng-model="x.Check" /> {{x.Name}}
                  <span></span>
                </label>
              </div>
            </div>
          </div>
          <div class="form-group" ng-class="{ 'has-error': errorPhoneNumber}">
            <div class="col-md-12">
              <label class="control-label"
                >{{'ADM_USER_CURD_LBL_PHONE' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <input
                type="text"
                class="form-control bold br24"
                ng-model="model.PhoneNumber"
                name="PhoneNumber"
                placeholder="{{'ADM_USER_CURD_TXT_PHONE' | translate}}..."
                ng-change="changleSelect('PhoneNumber')"
              />
              <span
                ng-show="errorPhoneNumber"
                class="label-color validation-message"
              >
                {{'ADM_USER_CURD_MSG_ERR_PHONE' | translate}}
              </span>
            </div>
          </div>
          <div class="form-group pb5">
            <div class="col-md-12">
              <label class="control-label"
                >{{'ADM_USER_LBL_SHIFT' | translate}}</label
              >
            </div>
            <div class="col-md-12">
              <div class="col-md-4 pl-0" ng-repeat="x in lstShift">
                <div class="mt-checkbox-list pt10">
                  <label
                    class="mt-checkbox"
                    style="
                      margin-bottom: 0;
                      width: 30px;
                      display: inline;
                      font-size: 13px;
                    "
                  >
                    <input
                      type="checkbox"
                      ng-model="x.IsChecked"
                      ng-checked="x.IsChecked"
                    />
                    {{x.Name}}
                    <span></span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
  <div class="row">
    <div class="col-lg-12">
      <div class="tab" role="tabpanel">
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" class="active">
            <div
              href="#GroupUser"
              aria-controls="home"
              role="button"
              data-toggle="tab"
            >
              {{'ADM_USER_CURD_TAP_USER_GROUP' | translate}}
            </div>
          </li>
          <li role="presentation" class="disabled stepNext">
            <div
              href="#Department"
              aria-controls="profile"
              role="button"
              data-toggle="tab"
            >
              {{'ADM_USER_CURD_TAP_DEPARTMENT' | translate}}
            </div>
          </li>
          <li role="presentation" class="disabled stepNext">
            <div
              href="#TfaSetup"
              aria-controls="tfaSetup"
              role="button"
              data-toggle="tab"
            >
              {{'Cấu hình bảo mật 2 lớp' | translate}}
            </div>
          </li>
          <div class="btn-group actions pull-right">
            <div class="text-center pull-right pr-1" ng-click="submit()">
              <div class="fs30">
                <span
                  ><i class="fa-solid fa-plus" style="color: #337ab7"></i
                ></span>
              </div>
              <p class="text-underline fs9 mb5 pt3">
                {{'COM_BTN_SAVE' | translate}}
              </p>
            </div>
            <div class="text-center pull-right pr-2" ng-click="cancel()">
              <div class="fs30">
                <span><i class="fas fa-times" style="color: #337ab7"></i></span>
              </div>
              <p class="text-underline fs9 mb5 pt3">
                {{'COM_BTN_CANCEL' | translate}}
              </p>
            </div>
          </div>
        </ul>
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane fade in active" id="GroupUser">
            <div ng-include="'../views/admin/user/groupUser.html'"></div>
          </div>
          <div role="tabpanel" class="tab-pane fade" id="Department">
            <div ng-include="'../views/admin/user/userDepartment.html'"></div>
          </div>
          <div role="tabpanel" class="tab-pane fade" id="TfaSetup">
            <div ng-include="'../views/admin/accountLogin/tfaSetup.html'"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
